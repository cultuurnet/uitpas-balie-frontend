/**
 * Generated by orval v8.5.0 ðŸº
 * Do not edit manually.
 * UiTPAS API
 * With UiTPAS API 4.0 you can retrieve ticket prices and register ticket sales for passholders. You can also save UiTPAS points and exchange them for rewards for a passholder, and much more.
 * OpenAPI spec version: 4.0
 */
import {
  useQuery
} from '@tanstack/react-query';
import type {
  DataTag,
  DefinedInitialDataOptions,
  DefinedUseQueryResult,
  QueryClient,
  QueryFunction,
  QueryKey,
  UndefinedInitialDataOptions,
  UseQueryOptions,
  UseQueryResult
} from '@tanstack/react-query';

import type {
  AssociationsPaginatedResponse,
  Error,
  ForbiddenResponse,
  GetAssociationsParams,
  UnauthorizedResponse
} from '.././model';





/**
 * Retrieve associations based on organizer and its permission on the specific association.

Passholders can have memberships for zero or more associations. However, only selected organizers can see (read permission) or register (write permission) these memberships. Using this endpoint, clients can retrieve which memberships they can [see](/reference/uitpas.json/paths/~1passholders~1passholderId~1association-memberships/get) or register.

The caller of this request must have `ASSOCIATIONS` permission for the given organizer.
 * @summary Get associations
 */
export type getAssociationsResponse200 = {
  data: AssociationsPaginatedResponse
  status: 200
}

export type getAssociationsResponse400 = {
  data: Error
  status: 400
}

export type getAssociationsResponse401 = {
  data: UnauthorizedResponse
  status: 401
}

export type getAssociationsResponse403 = {
  data: ForbiddenResponse
  status: 403
}

export type getAssociationsResponseSuccess = (getAssociationsResponse200) & {
  headers: Headers;
};
export type getAssociationsResponseError = (getAssociationsResponse400 | getAssociationsResponse401 | getAssociationsResponse403) & {
  headers: Headers;
};

export type getAssociationsResponse = (getAssociationsResponseSuccess | getAssociationsResponseError)

export const getGetAssociationsUrl = (params: GetAssociationsParams,) => {
  const normalizedParams = new URLSearchParams();

  Object.entries(params || {}).forEach(([key, value]) => {
    
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? 'null' : value.toString())
    }
  });

  const stringifiedParams = normalizedParams.toString();

  return stringifiedParams.length > 0 ? `NEXT_PUBLIC_API_PATH/associations?${stringifiedParams}` : `NEXT_PUBLIC_API_PATH/associations`
}

export const getAssociations = async (params: GetAssociationsParams, options?: RequestInit): Promise<getAssociationsResponse> => {
  
  const res = await fetch(getGetAssociationsUrl(params),
  {      
    ...options,
    method: 'GET'
    
    
  }
)

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();
  
  const data: getAssociationsResponse['data'] = body ? JSON.parse(body) : {}
  return { data, status: res.status, headers: res.headers } as getAssociationsResponse
}
  




export const getGetAssociationsQueryKey = (params?: GetAssociationsParams,) => {
    return [
    `NEXT_PUBLIC_API_PATH/associations`, ...(params ? [params] : [])
    ] as const;
    }

    
export const getGetAssociationsQueryOptions = <TData = Awaited<ReturnType<typeof getAssociations>>, TError = Error | UnauthorizedResponse | ForbiddenResponse>(params: GetAssociationsParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData>>, fetch?: RequestInit}
) => {

const {query: queryOptions, fetch: fetchOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetAssociationsQueryKey(params);

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getAssociations>>> = ({ signal }) => getAssociations(params, { signal, ...fetchOptions });

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData> & { queryKey: DataTag<QueryKey, TData, TError> }
}

export type GetAssociationsQueryResult = NonNullable<Awaited<ReturnType<typeof getAssociations>>>
export type GetAssociationsQueryError = Error | UnauthorizedResponse | ForbiddenResponse


export function useGetAssociations<TData = Awaited<ReturnType<typeof getAssociations>>, TError = Error | UnauthorizedResponse | ForbiddenResponse>(
 params: GetAssociationsParams, options: { query:Partial<UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData>> & Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof getAssociations>>,
          TError,
          Awaited<ReturnType<typeof getAssociations>>
        > , 'initialData'
      >, fetch?: RequestInit}
 , queryClient?: QueryClient
  ):  DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }
export function useGetAssociations<TData = Awaited<ReturnType<typeof getAssociations>>, TError = Error | UnauthorizedResponse | ForbiddenResponse>(
 params: GetAssociationsParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData>> & Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof getAssociations>>,
          TError,
          Awaited<ReturnType<typeof getAssociations>>
        > , 'initialData'
      >, fetch?: RequestInit}
 , queryClient?: QueryClient
  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }
export function useGetAssociations<TData = Awaited<ReturnType<typeof getAssociations>>, TError = Error | UnauthorizedResponse | ForbiddenResponse>(
 params: GetAssociationsParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData>>, fetch?: RequestInit}
 , queryClient?: QueryClient
  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }
/**
 * @summary Get associations
 */

export function useGetAssociations<TData = Awaited<ReturnType<typeof getAssociations>>, TError = Error | UnauthorizedResponse | ForbiddenResponse>(
 params: GetAssociationsParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getAssociations>>, TError, TData>>, fetch?: RequestInit}
 , queryClient?: QueryClient 
 ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {

  const queryOptions = getGetAssociationsQueryOptions(params,options)

  const query = useQuery(queryOptions, queryClient) as  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };

  return { ...query, queryKey: queryOptions.queryKey };
}




